

## 💻 Mesa ABM 作业: MoneyModel

> **模型基础：** 本作业基于 Mesa 官方示例中的**Money Model**，要求学生对其 Agent 结构、交互行为和模型环境进行拓展和分析。

**首先阅读学习文件夹中的 moneymodel例子，然后完成下面的7个作业。**


---
### 一、Agent 行为拓展与实现

#### 1.1. Agent 属性拓展

* **要求：** 将现有的单一属性 Agent 拓展为一个持有**两种颜色属性**的 Agent。
    * Agent 必须新增一个或多个属性来记录其**颜色阵营**（例如，'Red' / 'Blue'，或 0 / 1）。
* **目标：** 理解 Agent 属性的增加如何影响其决策和模型初始化。

#### 1.2. 交互行为拓展（Wealth Distribution）

* **要求：** 拓展 Agent 的 $\texttt{step()}$ 方法，实现基于**颜色同质性**的财富分配规则。
    * 在传统的随机财富转移之外，Agent 必须检查其**相邻的 Agent**。
    * 如果相邻 Agent 与自身**颜色相同**，这两个 Agent 之间应进行**固定的财富分配**（例如，每个 Agent **分配/增加 2 个财富单位**给对方，或者按规则交换）。
* **目标：** 观察基于局部相似性的交互如何加速或减缓财富的分配和聚集。

---

### 二、模型环境与数据收集


#### 2.1. 网格模型替换与分析（Grid Exploration）

* **要求：** 尝试替换 $\texttt{MultiGrid}$ 模型，并使用 $\texttt{SingleGrid}$ 或 $\texttt{NetworkGrid}$ (如果适用) 等不同的空间模型进行实验。
    * **实验内容：** 运行模型并对比 $\texttt{MultiGrid}$ 与替换后的网格模型在财富分配、Agent 聚集或颜色隔离方面的差异。
    * **撰写心得：** 提交一份简短报告，说明**不同的空间拓扑**（例如，拥挤 vs. 网络连接）如何影响 **1.2 中定义的同色财富分配**结果。


#### 2.2. 数据收集拓展

* **要求：** 利用 $\texttt{DataCollector}$ 收集 Agent 的**颜色属性**数据。

---

### 三、模拟运行与可视化

#### 3.1. 参数变化观察（Sensitivity Analysis）

* **要求：** 设计一系列实验，观察当**网格大小**、**Agent 总数**以及 **1.2 中定义的财富分配数值**发生变化时，模型结果如何变化。

#### 3.2. 可视化交互操作（Visualization Control）

* **要求：** 为模型的初始化参数增加**滑轨（Slider）**控件，特别是用于控制**两种颜色阵营 Agent 的初始比例**。

#### 3.3. 结果保存（Data Persistence）

* **要求：** 学会保存 $\texttt{DataCollector}$ 的结果。
    * 在运行脚本中，实现循环运行模型 $N$ 次。
    * 将**每次运行**的模型级和 Agent 级数据转换为 Pandas $\texttt{DataFrame}$。
    * 最终将数据以 **CSV 文件格式**保存到本地。


---